---
title: 数据模型优化
date: '2025-12-17 13:46:01'
updated: '2025-12-17 14:43:02'
permalink: /post/data-model-optimization-zwfqbe.html
comments: true
toc: true
---



# 数据模型优化

1. ### 组件变化

    |类型|组件|变化前（41）|变化后（38+❓）|备注|
    | :-------------------------------------: | :-----------------------: | :-----------------: | :-----------------: | :----------: |
    |通用组件|区域|✅|✅||
    ||字段容器|✅|✅||
    |基础组件|单行文本<br />|✅|✅|[JSON](#20251217141556-yuehdz6)|
    ||多行文本|✅|✅||
    ||分割线|✅|✅||
    ||小标题|✅|✅||
    ||下拉框|✅|✅||
    ||计数器|✅|✅||
    ||开关|✅|✅||
    ||日期|✅|✅||
    ||固定时间|✅|✅||
    ||任意时间|✅|✅||
    ||单选|✅|✅||
    ||多选|✅|✅||
    ||查看图片|✅|❌|更改为【**图片**】|
    ||查看文件|✅|❌|更改为【**文件**】|
    ||颜色选择|✅|❌||
    ||图标选择|✅|✅||
    ||描述框|✅|✅||
    ||链接|✅|✅||
    |高级组件|级联选择|✅|✅||
    ||富文本|✅|✅||
    ||上传图片|✅|✅||
    ||上传文件|✅|✅||
    ||选项卡|✅|✅||
    ||表格|✅|✅||
    ||按钮|✅|✅||
    ||网页|✅|✅||
    ||流水号|✅|✅||
    ||定位|✅|✅||
    ||手写签名|✅|✅||
    ||JSON|✅|❌||
    ||列表页|✅|✅||
    ||蓝牙信标|✅|❓||
    |扩展组件|部门选择|✅|✅||
    ||角色选择|✅|✅||
    ||用户选择|✅|✅||
    ||岗位选择|✅|✅||
    ||时间线|✅|❌||
    ||动态流程|✅|✅||
    ||动态表单|✅|✅||
    |关系组件<br />|关系字段|❌|✅||
    ||关联关系|❌|✅||
    ||引用|❌|✅||

‍

2. 模型字段保存

    - 单行文本传输JSON

      ```json
      {
        // 组件类型（决定渲染哪个元素）
        "type": "input",
        // 字段的标签文本
        "label": "单行文本",
        // 表单字段的唯一标识符
        "prop": "danXingWenBen",
        // 输入的最大字符长度
        "maxlength": 10,
        // 默认取值配置，如果是公式则需要传formula
        "defaultOrigin": "formmula",
        "defaultValue": "",
        // 默认取值公式
        "formula": "2000759931402293249",
        // 必填校验
        "rules": [
           {
             "required": true,
             "message": "请输入单行文本12",
             "trigger": "change"
           }
         ]
        //动态校验
        "requireExpressEnable": true,
        "requireExpress": [
          {
            "label": "单行文本",
            "prop": "danXingWenBen",
            "value": "1"
          },
          {
            "label": "多行文本",
            "prop": "duoXingWenBen",
            "value": "3"
          }
        ],
        // 正则表达式验证失败时显示的消息
        "regularExpression": "^(?:0|86|\\+86)?1[3-9]\\d{9}$",
        "regularMessage": "格式不正确"
      }
      ```
